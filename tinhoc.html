<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ôn Tập Công Nghệ 9 - HKII 2025-2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="30" viewBox="0 0 24 30"><path fill="%23007BFF" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>'), auto;
        }

        :root {
            --primary-color: #4a6bff;
            --secondary-color: #6c5ce7;
            --success-color: #00b894;
            --error-color: #d63031;
            --warning-color: #fdcb6e;
            --bg-color: rgba(15, 23, 42, 0.9);
            --card-color: rgba(30, 41, 59, 0.85);
            --text-color: #f8fafc;
            --hover-color: rgba(255, 255, 255, 0.1);
        }

        body {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color), #a29bfe);
            min-height: 100vh;
            color: var(--text-color);
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        header {
            text-align: center;
            padding: 20px;
            background: var(--card-color);
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }

        header:hover {
            transform: translateY(-5px);
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            background: linear-gradient(to right, #4facfe, #00f2fe);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        h2 {
            font-size: 1.3rem;
            font-weight: 500;
            color: #cbd5e1;
        }

        .password-section {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 70vh;
            animation: fadeIn 1s ease;
        }

        .password-box {
            background: var(--card-color);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            text-align: center;
            width: 100%;
            max-width: 500px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }

        .password-box:hover {
            transform: translateY(-10px);
        }

        .password-box h3 {
            margin-bottom: 25px;
            font-size: 1.5rem;
            color: #60a5fa;
        }

        .password-input {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(15, 23, 42, 0.7);
            color: var(--text-color);
            font-size: 1.1rem;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .password-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 107, 255, 0.3);
        }

        .btn {
            padding: 15px 30px;
            border-radius: 12px;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(74, 107, 255, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }

        .btn-success {
            background: linear-gradient(to right, var(--success-color), #00cec9);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 184, 148, 0.4);
        }

        .btn-error {
            background: linear-gradient(to right, var(--error-color), #e17055);
            color: white;
        }

        .btn-error:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(214, 48, 49, 0.4);
        }

        .exam-section {
            display: none;
        }

        .timer-container {
            background: var(--card-color);
            padding: 15px 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(74, 107, 255, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(74, 107, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(74, 107, 255, 0); }
        }

        .timer {
            font-size: 1.8rem;
            font-weight: 700;
            color: #f8fafc;
            text-shadow: 0 0 10px rgba(74, 107, 255, 0.7);
        }

        .timer.warning {
            color: var(--warning-color);
            animation: blink 1s infinite;
        }

        .timer.danger {
            color: var(--error-color);
            animation: blink 0.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .question-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        @media (max-width: 768px) {
            .question-container {
                grid-template-columns: 1fr;
            }
        }

        .question-card {
            background: var(--card-color);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .question-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 8px 15px;
            border-radius: 10px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
            color: #e2e8f0;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 15px;
            border-radius: 12px;
            background: rgba(15, 23, 42, 0.7);
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }

        .option.selected {
            background: rgba(74, 107, 255, 0.2);
            border-color: var(--primary-color);
        }

        .option.correct {
            background: rgba(0, 184, 148, 0.2);
            border-color: var(--success-color);
        }

        .option.incorrect {
            background: rgba(214, 48, 49, 0.2);
            border-color: var(--error-color);
        }

        .option-letter {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            font-weight: 700;
            color: #cbd5e1;
        }

        .option.selected .option-letter {
            background: var(--primary-color);
            color: white;
        }

        .option.correct .option-letter {
            background: var(--success-color);
            color: white;
        }

        .option.incorrect .option-letter {
            background: var(--error-color);
            color: white;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .result-section {
            display: none;
            background: var(--card-color);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: fadeIn 1s ease;
        }

        .result-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .score {
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(to right, #4facfe, #00f2fe);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
        }

        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(15, 23, 42, 0.7);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .review-container {
            margin-top: 30px;
        }

        .review-question {
            background: rgba(15, 23, 42, 0.7);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .review-question:hover {
            background: rgba(15, 23, 42, 0.9);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .review-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .status-correct {
            background: rgba(0, 184, 148, 0.2);
            color: var(--success-color);
        }

        .status-incorrect {
            background: rgba(214, 48, 49, 0.2);
            color: var(--error-color);
        }

        .status-skipped {
            background: rgba(253, 203, 110, 0.2);
            color: var(--warning-color);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--card-color);
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal h3 {
            margin-bottom: 20px;
            font-size: 1.5rem;
            color: #60a5fa;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
        }

        footer {
            text-align: center;
            padding: 20px;
            color: #94a3b8;
            font-size: 0.9rem;
            margin-top: 30px;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.5);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, #3a5bff, #5b4ce7);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Password Section -->
        <section class="password-section" id="passwordSection">
            <div class="password-box">
                <h3><i class="fas fa-lock"></i> HỆ THỐNG ÔN TẬP BẢO MẬT</h3>
                <p>Vui lòng nhập mật khẩu để truy cập hệ thống ôn tập</p>
                <input type="password" class="password-input" id="passwordInput" placeholder="Nhập mật khẩu">
                <button class="btn btn-primary" id="unlockBtn">
                    <i class="fas fa-unlock-alt"></i> Mở khóa hệ thống
                </button>
                <p id="passwordError" style="color: #ef4444; margin-top: 15px; display: none;">
                    <i class="fas fa-exclamation-circle"></i> Mật khẩu không đúng. Vui lòng thử lại!
                </p>
            </div>
        </section>

        <!-- Exam Section -->
        <section class="exam-section" id="examSection">
            <header>
                <h1>ÔN TẬP CHƯƠNG I – CÔNG NGHỆ 9 – HKII – NĂM HỌC 2025–2026</h1>
                <h2>Trường THCS Xuân Thới Thượng</h2>
            </header>

            <div class="timer-container">
                <div>
                    <h3><i class="fas fa-clock"></i> Thời gian làm bài</h3>
                    <p>Hoàn thành bài trước khi hết giờ!</p>
                </div>
                <div class="timer" id="timer">15:00</div>
            </div>

            <div class="question-container" id="questionContainer">
                <!-- Questions will be dynamically inserted here -->
            </div>

            <div class="controls">
                <button class="btn btn-primary" id="submitBtn">
                    <i class="fas fa-paper-plane"></i> Nộp bài
                </button>
                <button class="btn btn-secondary" id="resetBtn">
                    <i class="fas fa-redo"></i> Làm lại từ đầu
                </button>
            </div>

            <!-- Result Section -->
            <div class="result-section" id="resultSection">
                <div class="result-header">
                    <div class="score" id="scoreText">0/40</div>
                    <h2>KẾT QUẢ BÀI ÔN TẬP</h2>
                    <p id="resultMessage"></p>
                </div>

                <div class="result-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="correctCount">0</div>
                        <div class="stat-label">Câu đúng</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="incorrectCount">0</div>
                        <div class="stat-label">Câu sai</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="skippedCount">0</div>
                        <div class="stat-label">Câu bỏ qua</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="percentage">0%</div>
                        <div class="stat-label">Tỷ lệ đúng</div>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn btn-success" id="reviewBtn">
                        <i class="fas fa-list-check"></i> Xem lại bài làm
                    </button>
                    <button class="btn btn-secondary" id="retryBtn">
                        <i class="fas fa-sync-alt"></i> Làm lại bài
                    </button>
                </div>

                <div class="review-container" id="reviewContainer">
                    <!-- Review content will be dynamically inserted here -->
                </div>
            </div>
        </section>
    </div>

    <!-- Time Up Modal -->
    <div class="modal" id="timeUpModal">
        <div class="modal-content">
            <h3><i class="fas fa-hourglass-end"></i> Hết thời gian làm bài!</h3>
            <p>Thời gian làm bài của bạn đã kết thúc. Hệ thống sẽ tự động nộp bài.</p>
            <div class="modal-buttons">
                <button class="btn btn-primary" id="autoSubmitBtn">Xem kết quả</button>
            </div>
        </div>
    </div>

    <footer>
        <p>Hệ thống ôn tập trực tuyến - Trường THCS Xuân Thới Thượng</p>
        <p>© 2025-2026 - Công nghệ 9 - HKII</p>
    </footer>

    <script>
        // Password configuration
        const CORRECT_PASSWORD = "9a1maidinh";
        
        // DOM elements
        const passwordSection = document.getElementById('passwordSection');
        const examSection = document.getElementById('examSection');
        const passwordInput = document.getElementById('passwordInput');
        const unlockBtn = document.getElementById('unlockBtn');
        const passwordError = document.getElementById('passwordError');
        const questionContainer = document.getElementById('questionContainer');
        const submitBtn = document.getElementById('submitBtn');
        const resetBtn = document.getElementById('resetBtn');
        const resultSection = document.getElementById('resultSection');
        const scoreText = document.getElementById('scoreText');
        const correctCount = document.getElementById('correctCount');
        const incorrectCount = document.getElementById('incorrectCount');
        const skippedCount = document.getElementById('skippedCount');
        const percentage = document.getElementById('percentage');
        const resultMessage = document.getElementById('resultMessage');
        const reviewBtn = document.getElementById('reviewBtn');
        const retryBtn = document.getElementById('retryBtn');
        const reviewContainer = document.getElementById('reviewContainer');
        const timer = document.getElementById('timer');
        const timeUpModal = document.getElementById('timeUpModal');
        const autoSubmitBtn = document.getElementById('autoSubmitBtn');
        
        // Exam data - questions and answers
        const examData = [
            {
                question: "Vitamin A thường có trong loại thực phẩm nào?",
                options: [
                    "Sữa, gan, lòng đỏ trứng, bơ, phô mai.",
                    "Các loại ngũ cốc, rau, củ, quả, hạt đậu.",
                    "Các loại chanh, cam, bưởi, dưa hấu, ổi,…",
                    "Hải sản."
                ],
                correctAnswer: 0
            },
            {
                question: "Vai trò của vitamin A đối với cơ thể con người là:",
                options: [
                    "Tham gia quá trình oxy hóa, kích thích quá trình liền sẹo diễn ra nhanh và dự phòng bệnh tim mạch.",
                    "Kích thích ăn uống, góp phần vào sự phát triển của hệ thần kinh.",
                    "Tăng cường quá trình cốt hóa xương.",
                    "Phát triển, tái tạo các tế bào da, niêm mạc và tăng cường miễn dịch."
                ],
                correctAnswer: 3
            },
            {
                question: "Chất sát khuẩn sinh học phytoncid có ở thực phẩm nào?",
                options: [
                    "Củ hành, củ tỏi.",
                    "Trứng chim, trứng cá.",
                    "Củ hành, trứng cá.",
                    "Củ tỏi, trong nước mát, các mô."
                ],
                correctAnswer: 0
            },
            {
                question: "Thiếu Iodine có thể dẫn tới:",
                options: [
                    "Buồn nôn, đau bụng, tiêu chảy, đắng miệng.",
                    "Suy giáp – bệnh bướu cổ.",
                    "Da đậm màu, máu đông, đau khớp, đau bụng.",
                    "Khát nước, chướng bụng, tăng huyết áp."
                ],
                correctAnswer: 1
            },
            {
                question: "Các cách làm khô bằng năng lượng tự nhiên là:",
                options: [
                    "Năng lượng gió, nước,…",
                    "Năng lượng mặt trời, gió,…",
                    "Năng lượng mặt trời, nước,…",
                    "Năng lượng điện, gió,…"
                ],
                correctAnswer: 1
            },
            {
                question: "Lưu ý khi bảo quản thực phẩm tươi sống là:",
                options: [
                    "Có thể bảo quản lạnh trong thời gian ngắn và đông lạnh khi chưa cần sử dụng ngay.",
                    "Bảo quản lạnh sau khi giết mổ.",
                    "Đun nấu thịt, cá sau khi cắt, thái.",
                    "Nên để thịt, cá trong túi giấy sau khi cắt, thái."
                ],
                correctAnswer: 0
            },
            {
                question: "Phương pháp bảo quản TP nào làm biến đổi về cảm quan và thành phần cấu tạo?",
                options: [
                    "Phương pháp đóng hộp.",
                    "Phương pháp phóng xạ ion.",
                    "Phương pháp ngâm đường.",
                    "Phương pháp bảo quản lạnh."
                ],
                correctAnswer: 1
            },
            {
                question: "Nếu cơ thể thiếu vitamin B sẽ dẫn đến hệ quả gì?",
                options: [
                    "Còi xương ở trẻ em và loãng xương ở người trưởng thành.",
                    "Quáng gà, giảm khả năng miễn dịch.",
                    "Quá trình lão hóa diễn ra nhanh chóng, nguy cơ mắc một số bệnh lí tim mạch.",
                    "Chán ăn, các triệu chứng về thần kinh."
                ],
                correctAnswer: 3
            },
            {
                question: "Nội dung nào dưới đây không phải là ưu điểm của phương pháp sử dụng các chất sát khuẩn?",
                options: [
                    "Gia tăng sự phát triển của vi sinh vật gây hỏng thực phẩm.",
                    "Kéo dài thời gian sử dụng của thực phẩm.",
                    "Giúp tiêu diệt sự phát triển của vi sinh vật gây hỏng thực phẩm.",
                    "Giúp ngăn ngừa sự phát triển của vi sinh vật gây hỏng thực phẩm."
                ],
                correctAnswer: 0
            },
            {
                question: "Chất khoáng thường được phân chia thành mấy nhóm?",
                options: [
                    "2.",
                    "3.",
                    "4.",
                    "5."
                ],
                correctAnswer: 0
            },
            {
                question: "Vitamin C có vai trò gì đối với cơ thể con người?",
                options: [
                    "Giúp phát triển, tái tạo các tế bào da, niêm mạc và tăng cường cơ thể.",
                    "Kích thích sự phát triển của hệ xương."
                ],
                correctAnswer: 3
            },
            {
                question: "Chất khoáng kẽm có vai trò gì đối với cơ thể người?",
                options: [
                    "Giúp điều hòa đường huyết, hỗ trợ hoạt động của cơ bắp, bộ não tim mạch.",
                    "Làm cho xương và răng chắc khỏe.",
                    "Tăng cường hệ miễn dịch, phát triển hệ thống thần kinh trung ương.",
                    "Là thành phần của enzyme hoặc xúc tác cho phản ứng sinh hóa trong cơ thể."
                ],
                correctAnswer: 2
            },
            {
                question: "Mục đích của phương pháp sóng siêu âm là:",
                options: [
                    "Phá hủy sinh vật.",
                    "Để chống mốc, vi khuẩn trong không khí, trên dụng cụ, bề mặt thực phẩm.",
                    "Làm rối loạn các tính chất sinh vật của tế bào vi khuẩn.",
                    "Làm mất khả năng sinh sản của vi sinh vật."
                ],
                correctAnswer: 0
            },
            {
                question: "Một trong những vai trò chính của chất xơ đối với cơ thể người là:",
                options: [
                    "Là môi trường cho các phản ứng chuyển hóa xảy ra trong cơ thể.",
                    "Chuyển hóa và trao đổi chất trong tế bào và giữa tế bào với môi trường.",
                    "Hấp thụ những chất có hại trong đường tiêu hóa.",
                    "Tham gia cấu tạo tế bào và các mô của cơ thể."
                ],
                correctAnswer: 2
            },
            {
                question: "Phụ nữ có thai cho con bú cần tăng cường bổ sung chất khoáng nào sau đây?",
                options: [
                    "Kẽm.",
                    "Natri.",
                    "Iodine.",
                    "Sắt."
                ],
                correctAnswer: 3
            },
            {
                question: "Cách chọn thực phẩm bơ tươi ngon là:",
                options: [
                    "Bơ màu vàng đậm, vị ngậy, chảy nước, không có mùi lạ, bề mặt mịn màng.",
                    "Bơ màu vàng tươi, vị ngậy, không chảy nước, không có mùi lạ, bề mặt sần sùi.",
                    "Bơ màu vàng đậm, vị ngậy, không chảy nước, bề mặt mịn màng, có mùi thơm đặc trưng.",
                    "Bơ màu vàng tươi, vị ngậy, không chảy nước, không có mùi lạ, bề mặt mịn màng, có mùi thơm đặc trưng."
                ],
                correctAnswer: 3
            },
            {
                question: "Khi bảo quản thực phẩm thịt, cá cần có những lưu ý nào?",
                options: [
                    "Bảo quản thịt, cá ở nơi khô, ráo.",
                    "Không ngâm rửa thịt, cá sau khi cắt, thái.",
                    "Bảo quản thịt, cá ở nhiệt độ thấp (trong tủ lạnh hoặc ngăn đông).",
                    "Nên để thịt, cá trong túi giấy sau khi cắt, thái."
                ],
                correctAnswer: 2
            },
            {
                question: "Chất dinh dưỡng nào chiếm tỉ lệ cung cấp năng lượng cao nhất cho cơ thể con người?",
                options: [
                    "Protein.",
                    "Lipid.",
                    "Carbohydrate.",
                    "Vitamin."
                ],
                correctAnswer: 2
            },
            {
                question: "Thừa vitamin C có thể dẫn tới:",
                options: [
                    "Xanh xao, tăng tiết mồ hôi, khó thở, cứng cơ, phù, thở không đều, giảm vận động hoặc hoạt động, sưng mí mắt hoặc đỏ da.",
                    "Nhức đầu, ngứa ngáy, phát ban, gây tê liệt hay yếu chân tay, co mặt.",
                    "Rối loạn tiêu hóa, loét dạ dày, tá tràng, đau đầu, mất ngủ, viêm bàng quang, tiêu chảy, tăng tạo sỏi thận, gây bệnh gout.",
                    "Gây hiện tượng hoảng hốt, đau đầu, mệt mỏi, tê thần kinh cơ bắp, tim đập nhanh, chuột rút, phù nề."
                ],
                correctAnswer: 2
            },
            {
                question: "Vitamin C có nhiều nhất trong loại thực phẩm nào sau đây?",
                options: [
                    "Quả ổi.",
                    "Rau cải.",
                    "Cá."
                ],
                correctAnswer: 0
            },
            {
                question: "Vitamin C thường có trong loại thực phẩm nào?",
                options: [
                    "Các loại rau và quả: chanh, cam, bưởi, dưa hấu, bắp cải, cà chua.",
                    "Các loại ngũ cốc, rau, củ, quả, hạt đậu.",
                    "Rau có màu xanh đậm hoặc vàng, quả có màu vàng: rau muống, rau ngót, cải xanh, rau dền, bí đỏ, cà rốt, xoài đặc.",
                    "Sữa, dầu gan cá, lòng đỏ trứng, bơ."
                ],
                correctAnswer: 0
            },
            {
                question: "Thực phẩm được trộn với muối để hạn chế vi sinh vật phát triển và kéo dài thời gian sử dụng. Đây là phương pháp bảo quản nào sau đây?",
                options: [
                    "Phương pháp đóng hộp.",
                    "Phương pháp tiệt trùng.",
                    "Phương pháp làm khô tự nhiên.",
                    "Phương pháp ướp muối."
                ],
                correctAnswer: 3
            },
            {
                question: "Các tác nhân vật lí trong phương pháp bảo quản thực phẩm là:",
                options: [
                    "Bảo quản lạnh.",
                    "Sấy khô, phơi nắng.",
                    "Đóng hộp, bao gói kín.",
                    "Tia tử ngoại, sóng siêu âm, chiếu xạ."
                ],
                correctAnswer: 3
            },
            {
                question: "Các phụ gia thực phẩm có tính sát khuẩn là:",
                options: [
                    "Sorbic acid, kali nitrat, propionic acid,…",
                    "Sorbic acid, sodium benzoate, propionic acid.",
                    "Sodium benzoate, propionic acid,…",
                    "Sorbic acid, glucose,…"
                ],
                correctAnswer: 1
            },
            {
                question: "Điều nào không đúng khi nói về bảo quản chất dinh dưỡng trong rau, củ, quả tươi?",
                options: [
                    "Rửa rau thật sạch, chỉ nên cắt, thái sau khi rửa, không để rau khô héo.",
                    "Rau, củ, quả ăn sống nên gọt vỏ trước khi ăn.",
                    "Nên để trong hộp, lọ kín,…",
                    "Nên sơ chế sạch sẽ và bảo quản lạnh trong thời gian ngắn."
                ],
                correctAnswer: 2
            },
            {
                question: "Nội dung nào sau đây không phải là ưu điểm của PP chiếu tia tử ngoại (UV)?",
                options: [
                    "Không làm ảnh hưởng nhiều đến chất lượng của thực phẩm.",
                    "Được áp dụng rộng rãi trong sản xuất công nghiệp.",
                    "Làm thay đổi thành phần dinh dưỡng và mùi vị ban đầu của thực phẩm.",
                    "Đem lại hiệu quả cao."
                ],
                correctAnswer: 2
            },
            {
                question: "Nếu cơ thể thiếu chất khoáng calcium sẽ dẫn đến hệ quả gì?",
                options: [
                    "Thiếu máu.",
                    "Tăng huyết áp.",
                    "Còi xương ở trẻ em và loãng xương ở người trưởng thành.",
                    "Dẫn đến bệnh bướu cổ."
                ],
                correctAnswer: 2
            },
            {
                question: "Thiếu vitamin D có thể gây ra hệ quả gì?",
                options: [
                    "Còi xương ở trẻ em và loãng xương ở người trưởng thành.",
                    "Thiếu máu hồng cầu và bệnh thần kinh ngoại vi.",
                    "Thoái hóa các neuron thần kinh.",
                    "Viêm lợi, phát ban."
                ],
                correctAnswer: 0
            },
            {
                question: "Chất khoáng sắt thường có trong các loại thực phẩm nào?",
                options: [
                    "Muối, các loại gia vị.",
                    "Rau lá màu xanh đậm.",
                    "Các loại thịt, hải sản, lòng đỏ trứng, rau cải.",
                    "Gan, thịt động vật bốn chân và trứng."
                ],
                correctAnswer: 3
            },
            {
                question: "Nhược điểm của phương pháp điều chỉnh độ pH của thực phẩm là:",
                options: [
                    "Đảm bảo chất lượng sản phẩm.",
                    "Gia tăng sự phát triển của các vi sinh vật gây bệnh.",
                    "Thời gian bảo quản không dài, ảnh hưởng đến hương vị, giá trị dinh dưỡng thực phẩm.",
                    "Thời gian bảo quản dài, làm giảm giá trị dinh dưỡng của thực phẩm."
                ],
                correctAnswer: 2
            },
            {
                question: "Thực phẩm giàu Iodine thường có trong thực phẩm nào?",
                options: [
                    "Gạo, ngô, cá mực, rau bắp cải.",
                    "Rau bắp cải, cá ngừ, tảo, đậu lầy.",
                    "Súp lơ xanh, cá mực, trứng, cá ngừ.",
                    "Rau bắp cải, cá mực, rong biển, sữa, tôm."
                ],
                correctAnswer: 3
            },
            {
                question: "Cách bảo quản đậu, hạt khô, gạo là:",
                options: [
                    "Bảo quản trong các túi đông lạnh.",
                    "Sơ chế sạch sẽ và bảo quản lạnh.",
                    "Khử khuẩn bằng các tác nhân vật lí.",
                    "Để trong hộp, lọ kín, nơi khô ráo, mát mẻ."
                ],
                correctAnswer: 3
            },
            {
                question: "Vitamin A có nhiều nhất trong loại thực phẩm nào sau đây?",
                options: [
                    "Quả táo.",
                    "Hải sản.",
                    "Rau dền.",
                    "Hạt đậu."
                ],
                correctAnswer: 2
            },
            {
                question: "Vitamin C có nhiều nhất trong loại thực phẩm nào sau đây?",
                options: [
                    "Quả ổi.",
                    "Rau cải.",
                    "Cá.",
                    "Gạo."
                ],
                correctAnswer: 0
            },
            {
                question: "Mục đích của phương pháp phóng xạ ion là:",
                options: [
                    "Phá hủy sinh vật.",
                    "Để chống mốc, vi khuẩn trong không khí, trên dụng cụ, bề mặt thực phẩm.",
                    "Làm rối loạn các tính chất sinh vật của tế bào vi khuẩn, làm mất khả năng sinh sản của vi sinh vật.",
                    "Tăng thời gian bảo quản thực phẩm."
                ],
                correctAnswer: 2
            },
            {
                question: "Thừa vitamin A có thể dẫn tới:",
                options: [
                    "Đau đầu, buồn nôn, chán ăn, khô da, niêm mạc, đau xương khớp, tổn thương gan.",
                    "Rối loạn tiêu hóa, loét dạ dày, tá tràng, đau đầu, mất ngủ, viêm bàng quang.",
                    "Làm loãng máu và dẫn đến chảy máu, nguy cơ gây tử vong.",
                    "Đau cơ, đau xương, mạch máu bị vôi hóa."
                ],
                correctAnswer: 0
            },
            {
                question: "Cá được xếp vào hộp kín, sau đó gia nhiệt để tiêu diệt vi sinh vật gây hư hỏng thực phẩm. Đây là phương pháp bảo quản nào sau đây?",
                options: [
                    "Phương pháp đóng hộp.",
                    "Phương pháp tiệt trùng.",
                    "Phương pháp làm khô tự nhiên.",
                    "Phương pháp ướp muối."
                ],
                correctAnswer: 0
            },
            {
                question: "Mục đích của phương pháp chiếu tia tử ngoại (UV) là:",
                options: [
                    "Phá hủy sinh vật.",
                    "Để chống mốc, vi khuẩn trong không khí, trên dụng cụ, bề mặt thực phẩm.",
                    "Làm rối loạn các tính chất sinh vật của tế bào vi khuẩn.",
                    "Làm mất khả năng sinh sản của vi sinh vật."
                ],
                correctAnswer: 1
            },
            {
                question: "Vitamin được chia làm mấy nhóm?",
                options: [
                    "2.",
                    "3.",
                    "4.",
                    "5."
                ],
                correctAnswer: 0
            },
            {
                question: "Ý nào dưới đây không đúng khi nói về nước?",
                options: [
                    "Có thể cung cấp nước cho cơ thể từ việc ăn các loại thực phẩm là thịt đỏ, hải sản.",
                    "Là thành phần quan trọng của cơ thể sinh vật cũng như con người.",
                    "Nước chiếm khoảng 74% trọng lượng cơ thể của trẻ sơ sinh.",
                    "Nước chiếm khoảng 55–60% trọng lượng cơ thể người trưởng thành nam giới."
                ],
                correctAnswer: 0
            }
        ];

        // User answers array
        let userAnswers = new Array(examData.length).fill(null);
        let timerInterval;
        let timeLeft = 15 * 60; // 15 minutes in seconds
        let examSubmitted = false;

        // Initialize the application
        function initApp() {
            // Unlock button event listener
            unlockBtn.addEventListener('click', unlockSystem);
            passwordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') unlockSystem();
            });

            // Submit button event listener
            submitBtn.addEventListener('click', submitExam);

            // Reset button event listener
            resetBtn.addEventListener('click', resetExam);

            // Review button event listener
            reviewBtn.addEventListener('click', toggleReview);

            // Retry button event listener
            retryBtn.addEventListener('click', resetExam);

            // Auto submit button for time up modal
            autoSubmitBtn.addEventListener('click', function() {
                timeUpModal.style.display = 'none';
                submitExam();
            });
        }

        // Unlock the system with password
        function unlockSystem() {
            const password = passwordInput.value;
            
            if (password === CORRECT_PASSWORD) {
                passwordSection.style.display = 'none';
                examSection.style.display = 'block';
                loadQuestions();
                startTimer();
                
                // Add success effect
                document.body.style.animation = 'none';
                setTimeout(() => {
                    document.body.style.animation = 'fadeIn 1s ease';
                }, 10);
            } else {
                passwordError.style.display = 'block';
                passwordInput.style.borderColor = '#ef4444';
                
                // Shake animation for error
                passwordInput.style.animation = 'none';
                setTimeout(() => {
                    passwordInput.style.animation = 'shake 0.5s ease';
                }, 10);
                
                // Clear the input
                passwordInput.value = '';
                passwordInput.focus();
            }
        }

        // Load questions into the container
        function loadQuestions() {
            questionContainer.innerHTML = '';
            
            examData.forEach((question, index) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                questionCard.dataset.index = index;
                
                let optionsHTML = '';
                const letters = ['A', 'B', 'C', 'D'];
                
                question.options.forEach((option, optionIndex) => {
                    optionsHTML += `
                        <div class="option" data-option="${optionIndex}">
                            <div class="option-letter">${letters[optionIndex]}</div>
                            <div class="option-text">${option}</div>
                        </div>
                    `;
                });
                
                questionCard.innerHTML = `
                    <div class="question-number">Câu ${index + 1}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options-container">
                        ${optionsHTML}
                    </div>
                `;
                
                questionContainer.appendChild(questionCard);
            });
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    if (examSubmitted) return;
                    
                    const questionCard = this.closest('.question-card');
                    const questionIndex = parseInt(questionCard.dataset.index);
                    
                    // Remove selected class from all options in this question
                    questionCard.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Save user's answer
                    userAnswers[questionIndex] = parseInt(this.dataset.option);
                });
            });
        }

        // Start the countdown timer
        function startTimer() {
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                // Change timer color when time is running out
                if (timeLeft <= 180) { // 3 minutes
                    timer.classList.add('warning');
                }
                if (timeLeft <= 60) { // 1 minute
                    timer.classList.remove('warning');
                    timer.classList.add('danger');
                }
                
                // Time's up
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timeUpModal.style.display = 'flex';
                    timer.textContent = '00:00';
                }
            }, 1000);
        }

        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Submit the exam
        function submitExam() {
            if (examSubmitted) return;
            
            clearInterval(timerInterval);
            examSubmitted = true;
            
            // Calculate results
            let correct = 0;
            let incorrect = 0;
            let skipped = 0;
            
            examData.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correctAnswer;
                
                if (userAnswer === null) {
                    skipped++;
                } else if (isCorrect) {
                    correct++;
                } else {
                    incorrect++;
                }
                
                // Highlight correct/incorrect answers
                if (userAnswer !== null) {
                    const questionCard = document.querySelector(`.question-card[data-index="${index}"]`);
                    const selectedOption = questionCard.querySelector(`.option[data-option="${userAnswer}"]`);
                    const correctOption = questionCard.querySelector(`.option[data-option="${question.correctAnswer}"]`);
                    
                    if (isCorrect) {
                        selectedOption.classList.add('correct');
                    } else {
                        selectedOption.classList.add('incorrect');
                        correctOption.classList.add('correct');
                    }
                }
            });
            
            // Calculate percentage
            const percentageScore = Math.round((correct / examData.length) * 100);
            
            // Update result display
            scoreText.textContent = `${correct}/${examData.length}`;
            correctCount.textContent = correct;
            incorrectCount.textContent = incorrect;
            skippedCount.textContent = skipped;
            percentage.textContent = `${percentageScore}%`;
            
            // Set result message
            if (percentageScore >= 80) {
                resultMessage.textContent = "Xuất sắc! Bạn đã nắm vững kiến thức chương I.";
                resultMessage.style.color = "#00b894";
            } else if (percentageScore >= 60) {
                resultMessage.textContent = "Khá tốt! Hãy ôn tập thêm một số nội dung.";
                resultMessage.style.color = "#fdcb6e";
            } else {
                resultMessage.textContent = "Cần ôn tập nhiều hơn! Hãy xem lại các câu sai.";
                resultMessage.style.color = "#d63031";
            }
            
            // Show result section
            resultSection.style.display = 'block';
            
            // Scroll to results
            resultSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Reset the exam
        function resetExam() {
            // Reset user answers
            userAnswers.fill(null);
            
            // Reset timer
            clearInterval(timerInterval);
            timeLeft = 15 * 60;
            timer.classList.remove('warning', 'danger');
            updateTimerDisplay();
            
            // Reset submission flag
            examSubmitted = false;
            
            // Hide result section
            resultSection.style.display = 'none';
            reviewContainer.innerHTML = '';
            
            // Reload questions
            loadQuestions();
            
            // Restart timer
            startTimer();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Toggle review section
        function toggleReview() {
            if (reviewContainer.innerHTML === '') {
                loadReview();
                reviewBtn.innerHTML = '<i class="fas fa-eye-slash"></i> Ẩn bài làm';
            } else {
                reviewContainer.innerHTML = '';
                reviewBtn.innerHTML = '<i class="fas fa-list-check"></i> Xem lại bài làm';
            }
        }

        // Load review content
        function loadReview() {
            reviewContainer.innerHTML = '<h3>Chi tiết bài làm</h3>';
            
            examData.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correctAnswer;
                const letters = ['A', 'B', 'C', 'D'];
                
                let statusClass = '';
                let statusText = '';
                
                if (userAnswer === null) {
                    statusClass = 'status-skipped';
                    statusText = 'Chưa trả lời';
                } else if (isCorrect) {
                    statusClass = 'status-correct';
                    statusText = 'Đúng';
                } else {
                    statusClass = 'status-incorrect';
                    statusText = 'Sai';
                }
                
                const reviewQuestion = document.createElement('div');
                reviewQuestion.className = 'review-question';
                reviewQuestion.innerHTML = `
                    <div class="review-header">
                        <div class="question-number">Câu ${index + 1}</div>
                        <div class="review-status ${statusClass}">${statusText}</div>
                    </div>
                    <div class="question-text">${question.question}</div>
                    <div class="options-container">
                        ${question.options.map((option, optionIndex) => {
                            let optionClass = '';
                            if (optionIndex === question.correctAnswer) {
                                optionClass = 'correct';
                            } else if (optionIndex === userAnswer && !isCorrect) {
                                optionClass = 'incorrect';
                            }
                            
                            return `
                                <div class="option ${optionClass}">
                                    <div class="option-letter">${letters[optionIndex]}</div>
                                    <div class="option-text">${option}</div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                    ${userAnswer !== null && !isCorrect ? 
                        `<p style="margin-top: 10px; color: #60a5fa;"><strong>Đáp án đúng:</strong> ${letters[question.correctAnswer]}. ${question.options[question.correctAnswer]}</p>` : 
                        ''}
                `;
                
                reviewContainer.appendChild(reviewQuestion);
            });
        }

        // Initialize the application when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
